webpackJsonp(["cl.gs"],{22:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(5),o=s(0),r=(s.n(o),s(66)),l=(s.n(r),s(20)),u=(s.n(l),s(560)),a=s(492),c=s(460),i=s(493),p=s(507),m=s(508),d=s(509),h=s(510),f=s(578),g=s(512),b=s(62);class P extends o.PureComponent{constructor(){super(...arguments),this.reset=(()=>{const e=this.props.pots,t=e.map(e=>r(e)),s=t[0];this.setState({drawId:`draw-${l()}`,initialPots:e,pots:t,groups:s.map(e=>[]),maxTeamsInGroup:t.length,airborneTeams:[],currentPotNum:0,selectedTeam:null,pickedGroup:null,hungPot:s,possibleGroups:null,possibleGroupsShuffled:null,completed:!1,error:null})}),this.onTeamBallPick=(e=>{const{groups:t,pots:s,currentPotNum:n}=this.state,o=s[n],l=o.slice(),a=o.splice(e,1)[0],c=Object(u.a)(s,t,a,n);this.setState({hungPot:l,selectedTeam:a,possibleGroups:c,possibleGroupsShuffled:r(c),pickedGroup:null})}),this.onGroupBallPick=(e=>{const{groups:t,airborneTeams:s,selectedTeam:o,pots:r,currentPotNum:l}=this.state;if(!o)return void this.setState({error:"shit"});t[e].push(o);const u=r[l].length>0?l:l+1;s.push(o);const a=this.animateCell(e);this.setState({selectedTeam:null,pickedGroup:e,hungPot:r[u],possibleGroups:null,possibleGroupsShuffled:null,currentPotNum:u,completed:u>=r.length,airborneTeams:s},()=>n.a(this,void 0,void 0,function*(){const e=this.state.airborneTeams.filter(e=>e!==o);yield a,this.setState({airborneTeams:e})}))})}componentDidMount(){this.reset()}animateCell(e){const{selectedTeam:t,currentPotNum:s}=this.state;if(!t)return;const n=document.querySelector(`[data-cellid='${t.id}']`),o=`[data-cellid='${Object(c.a)(e)}${s}']`,r=document.querySelector(o);return n instanceof HTMLElement&&r instanceof HTMLElement?Object(a.a)(n,r,350):void 0}render(){if(!this.state)return null;const{initialPots:e,pots:t,groups:s,maxTeamsInGroup:n,currentPotNum:r,hungPot:l,airborneTeams:u,selectedTeam:a,pickedGroup:c,possibleGroups:P,possibleGroupsShuffled:T,completed:G}=this.state;return o.createElement(b.default,null,o.createElement(m.a,null,o.createElement(i.a,{selectedTeam:a,initialPots:e,pots:t,currentPotNum:r}),o.createElement(p.a,{maxTeams:n,selectedTeam:a,currentPotNum:r,groups:s,possibleGroups:P,airborneTeams:u})),o.createElement(d.a,null,o.createElement(h.a,{completed:G,selectedTeam:a,pot:l,onPick:this.onTeamBallPick}),o.createElement(g.a,{long:!1,completed:G,selectedTeam:a,pickedGroup:c,possibleGroups:P,numGroups:s.length,reset:this.reset}),o.createElement(f.a,{completed:G,possibleGroups:T,onPick:this.onGroupBallPick})))}}t.default=P},560:function(e,t,s){"use strict";function n(e,t,s){if(0===e[s].length&&++s===e.length)return!0;const r=e[s],l=r.pop();let u=!1;for(const a of o(t,l,s)){const o=t[a];if(o.push(l),u=n(e,t,s),o.pop(),u)break}return r.push(l),u}function o(e,t,s){const n=e.length>>1,o=r(e,t,s,0,n),l=r(e,t,s,n,e.length);return 0===o.length?l:0===l.length?o:o.concat(l)}function r(e,t,s,n,o){const r=[],l=i(t);for(let u=n;u<o;++u){const n=e[u];let o=!0;for(const e of n)if(e.country===t.country||l(e)){if(o=!1,e.pairing===t)return[];break}o&&n.length<=s&&r.push(u)}return r}t.a=function(e,t,s,r){return t.every(e=>0===e.length)?l(t.length):o(t,s,r).filter(o=>{t[o].push(s);const l=n(e,t,r);return t[o].pop(),l})};var l=s(60);s.n(l);const u=e=>"ua"===e.country,a=e=>"ru"===e.country,c=e=>!1,i=e=>"ru"===e.country?u:"ua"===e.country?a:c},578:function(e,t,s){"use strict";var n=s(0),o=(s.n(n),s(4)),r=s(460),l=s(511);const u=o["a"].div`
  display: flex;
  flex-wrap: wrap;
  align-items: center;

  @media (max-width: 999px) {
    justify-content: center;
  }
`;class a extends n.PureComponent{constructor(){super(...arguments),this.onBallPick=(e=>{const t=+(e.target.dataset.group||0);this.props.onPick(t)})}render(){const{completed:e,possibleGroups:t}=this.props;return n.createElement(u,null,!e&&t&&t.map(e=>n.createElement(l.a,{"data-group":e,onClick:this.onBallPick},Object(r.a)(e))))}}t.a=a}});