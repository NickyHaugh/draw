webpackJsonp(["app"],{107:function(e,t,n){"use strict";var a=n(0),o=(n.n(a),n(20)),s=(n.n(o),n(46)),r=n(55),i=n(136),c=n(146),l=n(458);class u extends a.PureComponent{constructor(){super(...arguments),this.state={key:o(),tournament:null,stage:null,season:Object(r.a)(l.a.location),location:l.a.location},this.onSeasonChange=((e,t,n)=>{l.a.push(`/${e}/${t}${n?`/${n}`:""}`)}),this.updateLocation=((e,t)=>{const n=Object(r.a)(e),[,a,o]=e.pathname.split("/");this.setState({tournament:a,stage:o,season:n,location:l.a.location})}),this.refresh=(()=>{this.setState({key:o()})}),this.getPages=(e=>{const{key:t,tournament:n,stage:o,season:s}=this.state;return a.createElement(c.a,Object.assign({},e,{dummyKey:t,tournament:n,stage:o,season:s,onSeasonChange:this.onSeasonChange}))})}componentWillMount(){this.unlisten=l.a.listen(this.updateLocation)}componentWillUnmount(){this.unlisten&&this.unlisten()}render(){const{location:e}=this.state;return a.createElement(s.a,{history:l.a},a.createElement("div",null,a.createElement(i.a,{refresh:this.refresh,location:e,onSeasonChange:this.onSeasonChange}),a.createElement(s.d,null,a.createElement(s.c,{path:"/:tournament/:stage/:season?",component:this.getPages}),a.createElement(s.b,{from:"/el",to:"/el/gs"}),a.createElement(s.b,{from:"/cl",to:"/cl/gs"}),a.createElement(s.b,{from:"/",to:"/cl/gs"}))))}}t.a=u},136:function(e,t,n){"use strict";var a=n(0),o=(n.n(a),n(4)),s=n(40),r=(n.n(s),n(72)),i=n(73),c=n(55),l=n(137),u=n(145);const m=o["a"].div`
  display: flex;
  justify-content: flex-end;
  align-items: center;
  padding-right: 10px;
  padding-bottom: 10px;
  font-size: 16px;

  & > * {
    margin-left: 5px;
    &:not(:last-child) {
      margin-right: 5px;
    }
  }

  @media (max-width: 999px) {
    padding-top: 15px;
    padding-bottom: 15px;
    font-size: 32px;
  }
`;class h extends a.PureComponent{render(){const{location:e,refresh:t,onSeasonChange:n}=this.props,[,o,h]=e.pathname.split("/"),p=Object(c.a)(e);return a.createElement(m,null,e&&a.createElement(i.a,{onClick:t},"Restart"),a.createElement(l.a,{tournament:o,stage:h,season:p,onChange:n}),a.createElement(r.a,{href:"https://github.com/inker/draw/issues",target:"_blank",rel:"noopener"},"Issues"),!s.mobile&&a.createElement(u.a,null))}}t.a=h},137:function(e,t,n){"use strict";var a=n(0),o=(n.n(a),n(60)),s=(n.n(o),n(14)),r=n(143),i=n(144);class c extends a.PureComponent{constructor(){super(...arguments),this.onTournamentChange=(e=>{const t=e.target.value,{stage:n,onChange:a}=this.props;a(t,n,s.a)}),this.onStageChange=(e=>{const t=e.target.value,{tournament:n,onChange:a}=this.props;a(n,t,s.a)}),this.onSeasonChange=(e=>{const t=+e.target.value,{tournament:n,stage:a,onChange:o}=this.props;o(n,a,t)})}render(){const{tournament:e,stage:t,season:n}=this.props,c="el"===e?2009:2e3;return a.createElement("div",null,a.createElement(i.a,{label:"tournament",onChange:this.onTournamentChange,value:e},a.createElement("option",{value:"cl"},"Champions League"),a.createElement("option",{value:"el"},"Europa League")),a.createElement(i.a,{label:"stage",onChange:this.onStageChange,value:t},a.createElement("option",{value:"gs"},"Group Stage")),a.createElement(i.a,{label:"season",onChange:this.onSeasonChange,value:n},o(s.a,c-1).map(e=>a.createElement("option",{value:e},Object(r.a)(e)))))}}t.a=c},14:function(e,t,n){"use strict";t.a=2017},143:function(e,t,n){"use strict";t.a=(e=>`${e}/${((e+1)%100).toString().padStart(2,"0")}`)},144:function(e,t,n){"use strict";var a=n(5),o=n(0),s=(n.n(o),n(4));const r=`label-${Math.random().toString(36).slice(2)}`,i=s["a"].div`
  display: inline;
  margin-left: 3px;
  margin-right: 3px;
`,c=s["a"].label`
  display: none;
`;t.a=(e=>{var{label:t,children:n}=e,s=a.b(e,["label","children"]);const l=`${r}-${t}`;return o.createElement(i,null,o.createElement(c,{htmlFor:l},t),o.createElement("select",Object.assign({id:l,className:"needsclick",title:t},s),n))})},145:function(e,t,n){"use strict";var a=n(0),o=(n.n(a),n(4));const s=o["a"].div`
  display: flex;
  justify-content: center;
  margin-left: 5px;
  width: 80px;
`;t.a=(()=>a.createElement(s,null,a.createElement("a",{target:"_blank",rel:"noopener",className:"github-button",href:"https://github.com/inker/draw","data-icon":"octicon-star","data-show-count":"true","data-count-href":"/inker/draw/stargazers","data-count-aria-label":"# stargazers on GitHub","aria-label":"Star inker/draw on GitHub"},"Star")))},146:function(e,t,n){"use strict";var a=n(5),o=n(0),s=(n.n(o),n(46)),r=n(147),i=n.n(r),c=n(21),l=n.n(c),u=n(20),m=(n.n(u),n(38)),h=(n.n(m),n(14)),p=n(176),g=n(190),d=n(81),f=n(452),v=n(453),E=n(455);class b extends o.PureComponent{constructor(){super(...arguments),this.state={key:u(),pots:null,waiting:!1,error:null,season:h.a},this.getPots=m((e,t,n)=>a.a(this,void 0,void 0,function*(){const t=yield Object(p.a)(e,n);return Object(g.a)(t)}),(e,t,n)=>`${e}-${t}-${n}`),this.getWrappedPopup=(e=>o.createElement(v.a,Object.assign({},e,{noAnimation:!this.state.pots})))}componentDidMount(){const{tournament:e,stage:t,season:n}=this.getMatchParams();this.fetchData(e,t,n?+n:h.a)}componentWillReceiveProps(e){const{props:t}=this,{tournament:n,stage:a,season:o,dummyKey:s}=e;t.season!==o||t.stage!==a||t.tournament!==n?this.fetchData(n,a,o):t.dummyKey!==s&&this.setState({key:s})}getMatchParams(){const{params:e}=this.props.match;return Object.assign({},e,{season:e.season?+e.season:h.a})}fetchData(e,t,n){return a.a(this,void 0,void 0,function*(){this.setState({waiting:!0});try{const a=yield this.getPots(e,t,n);yield this.prefetchImages(a),this.setState({pots:a,waiting:!1,error:null,key:u(),season:n})}catch(e){this.onFetchError(e)}})}onFetchError(e){return a.a(this,void 0,void 0,function*(){this.setState({waiting:!1,error:"Could not fetch data"}),yield l()(1e3),console.error(e);const{tournament:t,stage:n}=this.getMatchParams(),{pots:a,season:o}=this.state,s=a&&o!==h.a?o:void 0;this.props.onSeasonChange(t,n,s),this.setState({error:null})})}prefetchImages(e){const t=[];for(const n of e){const e=n.map(e=>Object(d.a)(e.country));t.push(...e.map(f.a))}return Promise.all(t)}getPopup(){const{error:e,waiting:t}=this.state,n=this.getWrappedPopup;return navigator.onLine?e?o.createElement(n,null,e):t?o.createElement(n,null,"wait..."):null:o.createElement(n,null,"you're offline")}render(){const{pots:e,key:t}=this.state;return o.createElement("div",null,this.getPopup(),o.createElement(s.d,null,o.createElement(s.c,{path:"/cl/gs"},o.createElement("div",null,o.createElement(i.a,null,o.createElement("title",null,"CL draw simulator"),o.createElement("meta",{name:"theme-color",content:"#00336a"}),o.createElement("meta",{name:"description",content:"Champions League draw simulator"})),o.createElement(E.a,{tournament:"cl",stage:"gs",pots:e,key:t}))),o.createElement(s.c,{path:"/cl/ro16"},o.createElement("div",null,o.createElement(i.a,null,o.createElement("title",null,"CL draw simulator"),o.createElement("meta",{name:"theme-color",content:"#00336a"}),o.createElement("meta",{name:"description",content:"Champions League draw simulator"})),o.createElement(E.a,{tournament:"cl",stage:"ro16",pots:e,key:t}))),o.createElement(s.c,{path:"/el/gs"},o.createElement("div",null,o.createElement(i.a,null,o.createElement("title",null,"EL draw simulator"),o.createElement("meta",{name:"theme-color",content:"#f68e00"}),o.createElement("meta",{name:"description",content:"Europa League draw simulator"})),o.createElement(E.a,{tournament:"el",stage:"gs",pots:e,key:t})))))}}t.a=b},176:function(e,t,n){"use strict";function a(e){return s.a(this,void 0,void 0,function*(){for(;!navigator.onLine;)console.error("you're offline, retrying..."),yield i()(1e3);const t=yield Object(c.a)(e,"latin1");if(t.includes("<title>404 Not Found</title>"))throw new Error(`${e}: 404`);return t})}function o(e){return s.a(this,void 0,void 0,function*(){for(const t of e)try{return yield a(t)}catch(e){console.error(e)}throw new Error(`could not load urls ${e.join(", ")}`)})}var s=n(5),r=n(21),i=n.n(r),c=n(177),l=n(14);const u="http://kassiesa.home.xs4all.nl/bert/uefa",m=(e,t)=>`${u}/seed${e}${t}.html`,h=(e,t)=>`${u}/history/seed${e}${t}.html`;t.a=((e,t)=>{const n=[m(e,t),h(e,t)];return t!==l.a&&n.reverse(),o(n)})},177:function(e,t,n){"use strict";var a=n(5),o=n(21),s=n.n(o),r=n(66);n.n(r);const i=r(["heather-guardian","button-match","conscious-cheek"]);t.a=((e,t)=>a.a(this,void 0,void 0,function*(){for(;!navigator.onLine;)console.error("you're offline, retrying..."),yield s()(1e3);for(const n of i){const a=`https://${n}.glitch.me`;try{const n=yield fetch(`${a}/?url=${encodeURIComponent(e)}${t?`&encoding=${t}`:""}`);if(200!==n.status)throw new Error(`${e}: ${n.status}`);return n.text()}catch(e){console.error(e)}}throw new Error(`could not load url ${e}`)}))},190:function(e,t,n){"use strict";function a(e){return s.a(this,void 0,void 0,function*(){const t=e.match(/Pot 1\s{5}([\s\S]+?)<\/table>/);if(!t)throw new Error("could not parse");e=t[1];const n=/\s*(.+?)\s*(\*+\d?|\(([CE]L-)?TH\))?\s+(\w{3})\s+(\d{1,3}\.\d{3})/g,a=[];let o;for(;null!==(o=n.exec(e));){const e=o[1].replace(/\*|(@\d)/g,"").trim(),t=i[o[4].toLowerCase()],n=u&&(yield u).default(e,t)||void 0,s=+o[5];a.push(new c.a(e,t,s,n))}return a})}function o(e){const t=[[],[],[],[]],n=e.length,a=n>>1;for(let o=0;o<n;++o)t[~~(o/a)<<1|o%2].push(e[o]);return t}var s=n(5),r=n(40),i=(n.n(r),n(191)),c=(n.n(i),n(192)),l=n(193);const u=r.mobile&&Promise.all([n.e("commons"),n.e(0)]).then(n.bind(null,459));t.a=(e=>a(e).then(l.a).then(o))},191:function(e,t){e.exports={alb:"al",and:"ad",arm:"am",aut:"at",azb:"az",bel:"be",bls:"by",bos:"ba",bul:"bg",cro:"hr",cyp:"cy",cze:"cz",den:"dk",eng:"gb-eng",esp:"es",est:"ee",far:"fo",fin:"fi",fra:"fr",geo:"ge",ger:"de",gib:"gi",gre:"gr",hun:"hu",irl:"ie",isl:"is",isr:"il",ita:"it",kaz:"kz",kos:"xk",lat:"lv",lie:"li",ltu:"lt",lux:"lu",mac:"mk",mlt:"mt",mol:"md",mon:"me",ned:"nl",nir:"gb-nir",nor:"no",pol:"pl",por:"pt",rom:"ro",rus:"ru",sco:"gb-sct",slo:"si",sma:"sm",srb:"rs",sui:"ch",svk:"sk",swe:"se",tur:"tr",ukr:"ua",wal:"gb-wls"}},192:function(e,t,n){"use strict";var a=n(80);class o extends a.a{constructor(e,t,n,a,o){super(e,t,a),this.coefficient=n,this.pairing=o}}t.a=o},193:function(e,t,n){"use strict";var a=n(194),o=n.n(a),s=n(195),r=n.n(s);const i=(e,t)=>e.find(e=>e.name.includes(t));t.a=(e=>{const t=e.slice();for(const[s,c]of r.a){const e=i(t,s),n=i(t,c);if(e&&n){if(e.country!==n.country)throw new Error(`teams ${e.name} & ${n.name} cannot be paired up`);e.pairing=n,n.pairing=e,o()(t,e),o()(t,n)}}t.sort((e,t)=>t.coefficient-e.coefficient);const n=t.length,a=n-1;for(let o=0;o<a;++o){const e=t[o];if(!e.pairing)for(let a=o+1;a<n;++a){const n=t[a];if(!n.pairing&&e.country===n.country){e.pairing=n,n.pairing=e;break}}}return e})},195:function(e,t){e.exports=[["Real Madrid","Barcelona"],["Real Madrid","Atlético"],["Manchester City","Manchester United"],["Chelsea","Arsenal"],["Chelsea","Tottenham"],["Arsenal","Tottenham"],["Milan","Inter"],["Benfica","Porto"],["Benfica","Sporting"],["CSKA","Spartak"],["CSKA","Zenit"],["Zenit","Spartak"],["Shakhtar","Dinamo Kiev"],["Olympiakos","Panathinaikos"]]},452:function(e,t,n){"use strict";var a=n(38);n.n(a);t.a=a(e=>{const t=document.createElement("img");return new Promise(n=>{t.onload=n,t.src=e})})},453:function(e,t,n){"use strict";var a=n(0),o=(n.n(a),n(4)),s=n(454);const r=o["b"]`
  from {
    opacity: 0;
  }
  to {}
`,i=Object(o["a"])(s["a"])`
  background-color: white;
  opacity: 0.75;
  ${e=>e.animate&&`\n    animation: ${r} 0.1s ease-out;\n  `}
`,c=Object(o["a"])(s["a"])`
  display: flex;
  justify-content: center;
  align-items: center;
  font-size: 5vw;
  color: #808080;
  user-select: none;
`;t.a=(({noAnimation:e,children:t})=>a.createElement("div",null,a.createElement(i,{animate:!e}),a.createElement(c,null,t)))},454:function(e,t,n){"use strict";var a=n(4);const o=a["a"].div`
  position: fixed;
  width: 100%;
  height: 100%;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
`;t.a=o},455:function(e,t,n){"use strict";var a=n(5),o=n(0),s=(n.n(o),n(456));class r extends o.PureComponent{constructor(){super(...arguments),this.state={componentPromise:null}}componentDidMount(){this.loadPromise(this.props)}componentWillReceiveProps(e){const{props:t}=this;t.tournament===e.tournament&&t.stage===e.stage||this.loadPromise(e)}loadPromise(e){const{tournament:t,stage:a}=e;this.setState({componentPromise:n(457)(`./${t}/${a}`)})}render(){const e=this.props,{tournament:t,stage:n,pots:r}=e,i=a.b(e,["tournament","stage","pots"]);return r&&o.createElement(s.a,Object.assign({},i,{pots:r,component:this.state.componentPromise}))}}t.a=r},457:function(e,t,n){function a(e){var t=o[e];return t?Promise.all(t.slice(1).map(n.e)).then(function(){return n(t[0])}):Promise.reject(new Error("Cannot find module '"+e+"'."))}var o={"./Root":[62,"commons"],"./Root.ts":[62,"commons"],"./cl/gs":[22,"commons","cl.gs"],"./cl/gs/":[22,"commons","cl.gs"],"./cl/gs/index":[22,"commons","cl.gs"],"./cl/gs/index.tsx":[22,"commons","cl.gs"],"./cl/ro16":[23,"cl.ro16"],"./cl/ro16/":[23,"cl.ro16"],"./cl/ro16/index":[23,"cl.ro16"],"./cl/ro16/index.tsx":[23,"cl.ro16"],"./el/gs":[24,"commons","el.gs"],"./el/gs/":[24,"commons","el.gs"],"./el/gs/index":[24,"commons","el.gs"],"./el/gs/index.tsx":[24,"commons","el.gs"],"./el/gs/worker":[70,"commons"],"./el/gs/worker.ts":[70,"commons"]};a.keys=function(){return Object.keys(o)},a.id=457,e.exports=a},458:function(e,t,n){"use strict";var a=n(50);const o=n.n(a)()();t.a=o},55:function(e,t,n){"use strict";var a=n(14);t.a=(e=>e?+(e.pathname.split("/")[3]||a.a):a.a)},72:function(e,t,n){"use strict";var a=n(4);const o=a["a"].a`
  color: blue;
  text-decoration: underline;
  &:hover {
    color: orange;
  }
`;t.a=o},73:function(e,t,n){"use strict";var a=n(4);const o=a["a"].div`
  color: blue;
  text-decoration: underline;
  cursor: pointer;
  &:hover {
    color: orange;
  }
`;t.a=o},80:function(e,t,n){"use strict";var a=n(20);n.n(a);class o{constructor(e,t,n){this.id=a("team-"),this.name=e,this.country=t,this.shortName=n}}t.a=o},81:function(e,t,n){"use strict";const a=n(196);t.a=(e=>a(`./${e}.svg`))},82:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),o=(n.n(a),n(84)),s=(n.n(o),n(4)),r=n(101),i=(n.n(r),n(102)),c=(n.n(i),n(107));const l=s["a"].div`
  font-family: Tahoma, Arial, sans-serif;
`;o.render(a.createElement(l,null,a.createElement(c.a,null)),document.getElementById("app")),r.attach(document.body)}},[82]);